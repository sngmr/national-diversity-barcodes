(this["webpackJsonpnational-diversity-barcodes"]=this["webpackJsonpnational-diversity-barcodes"]||[]).push([[0],{420:function(e,t,n){"use strict";n.r(t);var c=n(28),r=n.n(c),a=n(182),s=n.n(a),i=(n(198),n(193)),l=n(56),o=n(116),d=n(126),u=n.n(d),h=n(189),j=n(190),b=n.n(j),m={getAllNationalFlags:function(){return Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://restcountries.eu/rest/v2/all");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}};function f(e){var t=e.width*e.height,n=function(e,t,n){return function(e,t,n){for(var c,r,a,s,i=[],l=0;l<t;l+=n)r=e[c=4*l],a=e[c+1],s=e[c+2],i.push([r,a,s]);return i}(e.getContext("2d").getImageData(0,0,e.width,e.height).data,t,n)}(e,t,10).map((function(e){return"#"+e.map((function(e){return("0"+e.toString(16)).slice(-2)})).join("")})).reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{});return Object.entries(n).map((function(e){var n=Object(l.a)(e,2),c=n[0],r=n[1],a=Math.round(r/t*10*100);return{color:c,count:r,pixelCount:t,area:a}})).sort((function(e,t){return t.count-e.count})).filter((function(e){return e.count>=.0025*t}))}var x=n(191),O=n(192),g=n.n(O),p=1600,v=900;function y(e,t){for(var n={name:"svg",type:"element",value:"",attributes:{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:p,height:v},children:[{name:"rect",type:"element",value:"",attributes:{x:0,y:0,width:p,height:v,fill:"#FFFFFF"},children:[]}]},c=g()(t.filter((function(e){return"#FFFFFF"!==e.toUpperCase()}))),r=e?v:p,a=r/c.length*.25,s=(r-a*(c.length-1))/c.length,i={name:"rect",type:"element",value:"",attributes:null,children:[]},l=0;l<c.length;l++){var o=Object.create(i);o.attributes=e?{x:0,y:l*s+l*a,width:p,height:s,fill:c[l]}:{x:l*s+l*a,y:0,width:s,height:v,fill:c[l]},n.children.push(o)}return x.stringify(n)}var N=n(4);var w=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(l.a)(a,2),d=s[0],u=s[1],h=Object(c.useState)([]),j=Object(l.a)(h,2),b=j[0],x=j[1];Object(c.useEffect)((function(){m.getAllNationalFlags().then((function(e){r(e.data)}))}),[]),Object(c.useEffect)((function(){d.forEach((function(e){var t=document.getElementById("canvas_"+e.alpha3Code),n=t.getContext("2d");o.a.from(n,e.flag).then((function(e){e.render().then((function(){t.style.width="120px",t.style.height=120*t.height/t.width+"px",t.style.border="1px solid gray"}))}))}))}),[d]);var O=function(e){var t=!1;return d.indexOf(e)>=0&&(t=!0),Object(N.jsx)("tr",{onClick:function(){d.indexOf(e)>=0?u(d.filter((function(t){return e!==t}))):u([].concat(Object(i.a)(d),[e]))},className:t?"is-selected":"",children:Object(N.jsx)("td",{children:e.name})},e.alpha3Code)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];b.map((function(e){e.colorData.map((function(e){t.push(e.color)}))}));var n=y(e,t),c=document.getElementById("canvas_generated"),r=c.getContext("2d");o.a.from(r,n).then((function(e){e.render().then((function(){c.style.width="120px",c.style.height=120*c.height/c.width+"px",c.style.border="1px solid gray"}))}))};return Object(N.jsxs)("div",{className:"columns",children:[Object(N.jsxs)("div",{className:"column",children:[Object(N.jsx)("strong",{children:"Select countries"}),Object(N.jsx)("div",{className:"table-container",style:{height:"18rem",overflowY:"scroll"},children:Object(N.jsx)("table",{className:"table is-bordered is-striped is-narrow is-hoverable",children:Object(N.jsx)("tbody",{children:n.map((function(e){return O(e)}))})})})]}),Object(N.jsxs)("div",{className:"column",children:[Object(N.jsx)("strong",{children:"Selected countries"}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{onClick:function(){var e=[];d.forEach((function(t){e.push({flagData:t,colorData:f(document.getElementById("canvas_"+t.alpha3Code))})})),x(e)},className:"button is-small is-primary is-outlined",children:"Analyze colors"}),d.map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{children:e.name}),Object(N.jsx)("canvas",{id:"canvas_"+e.alpha3Code})]},"selected_"+e.alpha3Code)}))]}),Object(N.jsxs)("div",{className:"column",children:[Object(N.jsx)("strong",{children:"Selected flags color data"}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{onClick:function(){return g(!0)},className:"button is-small is-primary is-outlined",children:"Generate H flags"}),Object(N.jsx)("button",{onClick:function(){return g(!1)},className:"button is-small is-primary is-outlined",children:"Generate V flags"}),b.map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{children:e.flagData.name}),Object(N.jsx)("div",{children:e.colorData.map((function(t){return Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{style:{border:"1px solid gray",backgroundColor:t.color},children:"\xa0\xa0\xa0\xa0"}),Object(N.jsxs)("span",{children:[" ",t.color,", ",t.area,"%"]})]},"color_sample_"+e.flagData.alpha3Code+"_"+t.color)}))}),Object(N.jsx)("hr",{style:{margin:0,marginBottom:"1rem"}})]},"selected_analyzed_"+e.flagData.alpha3Code)}))]}),Object(N.jsxs)("div",{className:"column",children:[Object(N.jsx)("strong",{children:"Generated mashup flags"}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{onClick:function(){return g(!0)},className:"button is-small is-primary is-outlined",children:"Re-generate H"}),Object(N.jsx)("button",{onClick:function(){return g(!1)},className:"button is-small is-primary is-outlined",children:"Re-generate V"}),Object(N.jsx)("div",{children:Object(N.jsx)("canvas",{id:"canvas_generated"})})]})]})};var C=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("section",{className:"hero is-dark",children:Object(N.jsx)("div",{className:"hero-body",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("h1",{className:"title",children:"[WIP]National Diversity Barcodes"})})})}),Object(N.jsx)("section",{className:"section",children:Object(N.jsx)("div",{className:"container ",children:Object(N.jsx)(w,{})})}),Object(N.jsx)("footer",{className:"footer",children:Object(N.jsx)("div",{className:"content has-text-centered",children:"ConnectionWorks Inc."})})]})};s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(C,{})}),document.getElementById("root"))}},[[420,1,2]]]);
//# sourceMappingURL=main.50a7fd0b.chunk.js.map