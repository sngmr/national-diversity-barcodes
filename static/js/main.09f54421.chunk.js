(this["webpackJsonpnational-diversity-barcodes"]=this["webpackJsonpnational-diversity-barcodes"]||[]).push([[0],{418:function(e,t,n){"use strict";n.r(t);var c=n(28),a=n.n(c),r=n(181),s=n.n(r),o=(n(196),n(191)),i=n(56),l=n(182),d=n(125),u=n.n(d),j=n(189),h=n(190),b=n.n(h),f={getAllNationalFlags:function(){return Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://restcountries.eu/rest/v2/all");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()}};function O(e){var t=e.width*e.height,n=function(e,t,n){return function(e,t,n){for(var c,a,r,s,o=[],i=0;i<t;i+=n)a=e[c=4*i],r=e[c+1],s=e[c+2],o.push([a,r,s]);return o}(e.getContext("2d").getImageData(0,0,e.width,e.height).data,t,n)}(e,t,10).map((function(e){return"#"+e.map((function(e){return("0"+e.toString(16)).slice(-2)})).join("")})).reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{});return Object.entries(n).map((function(e){var n=Object(i.a)(e,2),c=n[0],a=n[1];return{color:c,count:a,area:Math.round(a/t*10*100)}})).sort((function(e,t){return t.count-e.count})).filter((function(e){return e.count>=.0025*t}))}var m=n(7);var x=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(i.a)(r,2),d=s[0],u=s[1],j=Object(c.useState)([]),h=Object(i.a)(j,2),b=h[0],x=h[1];Object(c.useEffect)((function(){f.getAllNationalFlags().then((function(e){a(e.data)}))}),[]),Object(c.useEffect)((function(){console.log(d),d.forEach((function(e){var t=document.getElementById("canvas_"+e.alpha3Code),n=t.getContext("2d");l.a.from(n,e.flag).then((function(e){e.render().then((function(){t.style.width="120px",t.style.height=120*t.height/t.width+"px",t.style.border="1px solid gray"}))}))}))}),[d]);var p=function(e){var t=!1;return d.indexOf(e)>=0&&(t=!0),Object(m.jsx)("tr",{onClick:function(){d.indexOf(e)>=0?u(d.filter((function(t){return e!==t}))):u([].concat(Object(o.a)(d),[e]))},className:t?"is-selected":"",children:Object(m.jsx)("td",{children:e.name})},e.alpha3Code)};return Object(m.jsxs)("div",{className:"columns",children:[Object(m.jsxs)("div",{className:"column",children:[Object(m.jsx)("strong",{children:"Select countries"}),Object(m.jsx)("div",{className:"table-container",style:{height:"18rem",overflowY:"scroll"},children:Object(m.jsx)("table",{className:"table is-bordered is-striped is-narrow is-hoverable",children:Object(m.jsx)("tbody",{children:n.map((function(e){return p(e)}))})})})]}),Object(m.jsxs)("div",{className:"column",children:[Object(m.jsx)("strong",{children:"Selected countries"}),Object(m.jsx)("button",{onClick:function(){var e=[];d.forEach((function(t){e.push({flagData:t,colorData:O(document.getElementById("canvas_"+t.alpha3Code))})})),x(e)},className:"button is-small is-primary is-outlined",style:{marginLeft:"10px"},children:"Analyze colors ->"}),d.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsx)("canvas",{id:"canvas_"+e.alpha3Code})]},"selected_"+e.alpha3Code)}))]}),Object(m.jsxs)("div",{className:"column",children:[Object(m.jsx)("strong",{children:"Selected flags color data"}),b.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:e.flagData.name}),Object(m.jsx)("div",{children:e.colorData.map((function(t){return Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{style:{border:"1px solid gray",backgroundColor:t.color},children:"\xa0\xa0\xa0\xa0"}),Object(m.jsxs)("span",{children:[" ",t.color,", ",t.area,"%(",t.count,"px)"]})]},"color_sample_"+e.flagData.alpha3Code+"_"+t.color)}))}),Object(m.jsx)("hr",{style:{margin:0,marginBottom:"1rem"}})]},"selected_analyzed_"+e.flagData.alpha3Code)}))]})]})};var p=function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("section",{className:"hero is-dark",children:Object(m.jsx)("div",{className:"hero-body",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("h1",{className:"title",children:"[WIP]National Diversity Barcodes"})})})}),Object(m.jsx)("section",{className:"section",children:Object(m.jsx)("div",{className:"container ",children:Object(m.jsx)(x,{})})}),Object(m.jsx)("footer",{className:"footer",children:Object(m.jsx)("div",{className:"content has-text-centered",children:"ConnectionWorks Inc."})})]})};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(p,{})}),document.getElementById("root"))}},[[418,1,2]]]);
//# sourceMappingURL=main.09f54421.chunk.js.map